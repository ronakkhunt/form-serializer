/*! form-serializer - 0.0.1 */
!function(a){var b=function(b){this.config=b||{inputSelector:":input"},this.serialized=null,this.serialize=function(b){var c={};b.find(this.config.inputSelector).each(function(b,d){var e=a(d),f=e.attr("name");if(f){f=f.trim();var d=e.val().trim();if(e.is("select"))c[f]=d;else{var g=(e.attr("type")||"text").trim();if("radio"===g)e.is(":checked")&&(c[f]=d);else if("checkbox"===g){if(e.is(":checked")){var h=c[f]||[];h.push(d),c[f]=h}}else c[f]=d}}}),this.serialized=c},this.getAsJson=function(){return this.serialized},this.getAsQueryString=function(a){if(a){var b="";for(var c in this.serialized){var d=encodeURIComponent(this.serialized[c]);"string"==typeof d?b+="&"+c+"="+d:"object"==typeof d&&(b+="&"+c+"="+d)}return b.substring(1)}var b="";for(var c in this.serialized){var d=this.serialized[c];if("string"==typeof d)d=encodeURIComponent(d),b+="&"+c+"="+d;else if("object"==typeof d)for(var e in d)e=encodeURIComponent(e),b+="&"+c+"="+e}return b.substring(1)},this.populate=function(b,c,d){var e=d.separateMultiParam,f=c;if("string"==typeof c){for(var g=c.split("&"),h={},i=0;i<g.length;i++){var j,k,l=g[i].split("=");if(l.length>0&&(j=l[0]),l.length>1&&(k=decodeURIComponent(l[1])),k){var m=h[j]||[];e?m=m.concat(k.split(",")):m.push(k),h[j]=m}}f=h}b.find(this.config.inputSelector).each(function(b,c){var d=a(c),e=d.attr("name");if(e){e=e.trim();var c=f[e],g=(d.attr("type")||"text").trim();"radio"===g?d.val()==c&&d.attr("checked","checked"):"checkbox"===g?c.indexOf(d.val())>-1&&d.attr("checked","checked"):d.val(c.slice(-1))}})}};a.fn._serialize_default=a.fn.serialize,a.fn.serialize=function(c){var d=null;if(this.filter("form").each(function(){return d=a(this),!1}),d){if(!c)return d._serialize_default();var e={type:"",inputSelector:":input"};"object"==typeof c?a.extend(e,c):"string"==typeof c&&a.extend(e,{type:c});var f=new b({inputSelector:e.inputSelector});if(f.serialize(d),!e.type&&":input"!=e.inputSelector)return f.getAsQueryString(!1);if(!e.type&&":input"==e.inputSelector)return d._serialize_default();if(e.type){return{json:f.getAsJson,queryString:f.getAsQueryString}[e.type].call(f,!0)}}},a.fn.populate=function(c,d){if(c){var e={inputSelector:":input",separateMultiParam:!1};"object"==typeof d&&a.extend(e,d);return new b({inputSelector:e.inputSelector}).populate(this,c,e),this}}}(jQuery);